<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
function proc1() {
	reg = prompt("주민번호를 입력해주세요");
	sub=reg.substr(7,1);
	if(sub==1 || sub==2){n1="19"+reg.slice(0,2);}
	else{n1="20"+reg.slice(0,2);}
	n2=reg.slice(2,4);
	n3=reg.slice(4,6);
	
	if(sub ==1 || sub ==3){gender = "남자";}
	else{gender = "여자";}
	now = new Date();
	year = now.getFullYear();
	age = year-parseInt(n1)+1;
	birth = n1+"년"+n2+"월"+n3+"일";
	
	
	res = "생일 : " + birth +"<br>";
	res += "성별 : "+gender+"/ 나이 : "+age+"<br>";
	document.querySelector('#result1').innerHTML = res; 	
}
function proc2() {
	code = prompt("주민번호를 입력해주세요","991111-1234567");
	codeArr = code.split("-"); // => -를 기준으로 앞 991111이 codeArr[0]에 , 1234567이 codeArr[1]에 들어감
	// 배열
	code = codeArr[0].concat(codeArr[1]);
	console.log("code="+code);
	console.log("code.length="+code.length);
	
	str="234567892345";
	sum=0;
	for(i=0 ; i<code.length-1; i++){
		sum += code[i] * str.substr(i,1);
	}
	
	value = 11 - (sum % 11);
	//value = value % 10;
	
	if(value == 10) value =0;
	else if(value == 11) value=1;
	
	res = "입력 : " + codeArr[0] + "<br>";
	if(value == code[code.length-1]){
		res += "올바른 번호";
	}else{
		res += "유효하지않는 번호";
	}
	
	document.querySelector('#result2').innerHTML = res;
}
</script>
</head>
<body>
<div class="box">
	<h3>1번문제</h3>
	주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.(입력은 prompt로 입력받는다.)<br>
	예) 주민등록번호를 110326-4432618로 입력 받은 경우<br>
	생일 : 2011년 3월 26일<br>
	성별 : 여자  나이: <br>
	<br>
	<input type="button" value="확인" onclick="proc1()">
	<br><br>
	<div id="result1"></div>
</div>

<div class="box">
	<h3>2번문제</h3>
	주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)<br>
	1. A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
	2. 1번의 합을 11로 나눈 나머지를 구한다.<br>
	3. 11에서 2번의 결과를 뺀다.<br>
	4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
	5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
	<br>
	<input type="button" value="확인" onclick="proc2()">
	<br><br>
	<div id="result2"></div>
</div>
</body>
</html>